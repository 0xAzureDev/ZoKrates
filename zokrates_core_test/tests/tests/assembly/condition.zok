def main(field c, field l, field r) -> field {
    field mut out = 0;
    asm {
        out <-- c != 0 ? l : r;
        out - r === c * (l - r);
    }
    return out;
}