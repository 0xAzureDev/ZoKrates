Fix integer inference on repeat operators