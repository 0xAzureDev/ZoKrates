Fix out of memory issues in `zokrates-js`, update API to use promises